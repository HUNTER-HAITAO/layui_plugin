<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>选项卡插件测试</title>
    <link rel="stylesheet" href="assets/layui/css/layui.css" media="all">
    <script src="assets/jquery-3.3.1.js"></script>

    <script src="assets/layui/layui.js"></script>


</head>
<body>

<div id="nav1">
    <!-- 顶部切换卡 -->
    <!--ul的id要和lay-filter一致-->
    <div class="layui-tab" lay-filter="main_tab1">
        <ul id="main_tab1" class="layui-tab-title">
            <li lay-id="0" class="layui-this">网站设置</li>
            <li lay-id="1">用户管理</li>
            <li lay-id="2">权限分配</li>
            <li lay-id="3">商品管理</li>
            <li lay-id="4">订单管理</li>
        </ul>
        <div class="layui-tab-content">
            <div class="layui-tab-item layui-show">内容1</div>
            <div class="layui-tab-item">内容2</div>
            <div class="layui-tab-item">内容3</div>
            <div class="layui-tab-item">内容4</div>
            <div class="layui-tab-item">内容5</div>
        </div>
    </div>
</div>

<div id="nav2">
    <!-- 顶部切换卡 -->
    <div class="layui-tab" lay-filter="main_tab2">
        <ul id="main_tab2" class="layui-tab-title">
            <li lay-id="11" class="layui-this">网站设置1</li>
            <li lay-id="12">用户管理1</li>
            <li lay-id="21">权限分配1</li>
            <li lay-id="31">商品管理1</li>
            <li lay-id="41">订单管理1</li>
        </ul>
        <div class="layui-tab-content">
            <div class="layui-tab-item layui-show">内容1</div>
            <div class="layui-tab-item">内容2</div>
            <div class="layui-tab-item">内容3</div>
            <div class="layui-tab-item">内容4</div>
            <div class="layui-tab-item">内容5</div>
        </div>
    </div>
</div>

<script>
    layui.config({
        base: 'module/',
    }).use([  'rightmenu'], function () {
        let element = layui.element;
        let rightmenu_ = layui.rightmenu;

        // 默认方式渲染全部：关闭当前（closethis）、关闭所有（closeall）、关闭其它（closeothers）、关闭左侧所有（closeleft）、关闭右侧所有（closeright）、刷新当前页（refresh）
        rightmenu_.render({
            container: '#nav1',
            filter: 'main_tab1',
        });

        // 默认渲染部分弹出项
        rightmenu_.render({
            container: '#nav2',
            filter: 'main_tab2',
            // navArr：对象数组，每个对象包含dataType、title、method属性
            navArr: [
                //自定义菜单项，无需定义dataType属性，只需title和method（自定义触发事件）属性即可
                {
                    title: "测试", dataType: 'test'
                }, {
                    title: "测试2", dataType: 'test2'
                },
                {dataType: 'closethis', title: '关闭当前'},
                {dataType: 'closeall', title: '关闭所有'},
                {dataType: 'closeothers', title: '关闭其它'},


            ],
            registMethod: {'test': test, 'test2': test2}
        })

        function test(id, title,currentNavGroup, dom) {
            changeCurrentTabContent(currentNavGroup,"[测试]触发,触发的ID：" + id + "，标题：" + title);
        }

        function test2(id, title,currentNavGroup, dom) {
            changeCurrentTabContent(currentNavGroup,"[测试2]触发,触发的ID：" + id + "，标题：" + title);
        }

        function changeCurrentTabContent(currentNavGroup,content) {
            $(currentNavGroup+" div[class='layui-tab-item layui-show']").html(content);

        }
    });
</script>

</body>
</html>